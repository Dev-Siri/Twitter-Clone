#!/usr/bin/bash
output_dir="assets/icons/compiled"

generated_file="// GENERATED BY scripts/generate_icon_file
import \"package:vector_graphics/vector_graphics.dart\";

"

if [ -d "$output_dir" ]; then
  for file in "$output_dir"/*; do
    filename=$(basename "$file")
    varname=$(echo "$filename" | sed 's/\.svg\.vec//' | tr '-' '\n' | awk '{print toupper(substr($0,1,1)) tolower(substr($0,2))}' | tr -d '\n')
    generated_file="${generated_file}const ${varname,} = AssetBytesLoader(\"${file}\");
"
  done

  printf "%s" "$generated_file" > icons.dart
else
  echo "Directory does not exist."
fi
